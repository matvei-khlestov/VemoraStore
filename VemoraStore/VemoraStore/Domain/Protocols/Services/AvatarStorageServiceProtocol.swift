//
//  AvatarStorageServiceProtocol.swift
//  VemoraStore
//
//  Created by Matvei Khlestov on 23.09.2025.
//

import Foundation

/// Протокол `AvatarStorageServiceProtocol`
///
/// Определяет интерфейс для работы с локальным хранилищем аватаров пользователя.
/// Отвечает за загрузку, сохранение и удаление изображения профиля на устройстве.
///
/// Основные задачи:
/// - предоставление доступа к сохранённым данным аватара;
/// - безопасное сохранение изображения в файловую систему;
/// - удаление изображения при обновлении или очистке профиля.
///
/// Используется в:
/// - `ProfileUserViewModel` и `EditProfileViewModel`
///   для управления локальным отображением и синхронизацией аватара пользователя.

protocol AvatarStorageServiceProtocol {
    
    /// Загружает сохранённые данные аватара из локального хранилища.
    /// - Returns: Двоичные данные изображения (`Data`), если файл существует.
    func loadAvatarData() -> Data?
    
    /// Сохраняет данные изображения аватара в файловое хранилище.
    /// - Parameter data: Двоичные данные изображения (`Data`).
    /// - Throws: Ошибку записи, если операция завершилась неудачно.
    func saveAvatarData(_ data: Data) throws
    
    /// Удаляет сохранённое изображение аватара из файловой системы.
    /// - Throws: Ошибку удаления, если файл отсутствует или недоступен.
    func removeAvatar() throws
}
